---
import LayoutMain from '../layouts/LayoutMain.astro';
import Frame from '../components/Frame.astro';
import menu from '../menu.json';

export function getStaticPaths() {
    return  menu.allPaths.map(path => ({
        params: { slug: path }
    }));
}
const { slug } = Astro.params;
const activePath = slug.startsWith('/') ? slug : `/${slug}`;
const iframeUrl = `/fragments${activePath}`;
---

<LayoutMain title="Welcome to Astro." entries={menu.menu} activePath={activePath}>
    <Frame url={iframeUrl} />
</LayoutMain>
